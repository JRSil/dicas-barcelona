!function(S){"use strict";function I(e){i("first")}function i(e){var i=jQuery("#redux_builder_amp-opt-media").find("input[type=text]").val();if(""!=i&&void 0!==i){var t=jQuery("#ampforwp-custom-logo-dimensions-slider").val();0==jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").length&&"first"==e&&((a=new Image).src=i,a.onload=function(){0==jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").length&&jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").append("<div class='logo_preview'><img src='"+i+"' style='width:"+t+"% !important;max-width: "+this.width+"px !important;'></div>")});var a,d=jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").attr("src");(a=new Image).src=i,a.onload=function(){d==i?jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").attr("style","width:"+t+"% !important; max-width: "+this.width+"px !important;"):jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").attr("src",i).attr("style","width:"+t+"% !important; max-width: "+this.width+"px !important;")}}}redux.field_objects=redux.field_objects||{},redux.field_objects.amp_slider=redux.field_objects.amp_slider||{},S(document).ready(function(){}),redux.field_objects.amp_slider.init=function(e){e||(e=S(document).find(".redux-group-tab:visible").find(".redux-container-amp_slider:visible"),i()),S(e).each(function(){var C=S(this),e=C;if(C.hasClass("redux-field-container")||(e=C.parents(".redux-field-container:first")),!e.is(":hidden")&&e.hasClass("redux-field-init")){e.removeClass("redux-field-init"),C.find("div.redux-amp_slider-container").each(function(){var e,i,t,a,d,r,l=S(this).data("id"),n=S(this).data("min"),s=S(this).data("max"),o=S(this).data("step"),u=S(this).data("handles"),p=S(this).data("default-one"),f=S(this).data("default-two"),c=S(this).data("resolution"),m=parseInt(S(this).data("display")),v=Boolean(S(this).data("rtl")),_=S(this).data("float-mark");Boolean(S(this).data("forced")),r=!0===v?"rtl":"ltr";var x,h,w,g,b=[n,s],j=[p,f],y=[p];if(2==m?(x=t=C.find(".redux-amp_slider-input-one-"+l),h=a=C.find(".redux-amp_slider-input-two-"+l)):3==m?(t=C.find(".redux-amp_slider-select-one-"+l),a=C.find(".redux-amp_slider-select-two-"+l),redux.field_objects.slider.loadSelect(t,n,s,c,o),2===u&&redux.field_objects.slider.loadSelect(a,n,s,c,o)):1==m?(t=C.find("#redux-amp_slider-label-one-"+l),a=C.find("#redux-amp_slider-label-two-"+l)):0==m&&(t=C.find(".redux-amp_slider-value-one-"+l),a=C.find(".redux-amp_slider-value-two-"+l)),1==m){var Q=[t,"html"];w=[Q],g=[Q,[a,"html"]]}else w=[t],g=[t,a];2===u?(e=j,i=g,d=!0):(e=y,i=w,d="lower");var k=S(this).noUiSlider({range:b,start:e,handles:u,step:o,connect:d,behaviour:"tap-drag",direction:r,serialization:{resolution:c,to:i,mark:_},slide:function(){if(1==m)if(2===u){var e=k.val();C.find("input.redux-amp_slider-value-one-"+l).attr("value",e[0]),I(e[0]),C.find("input.redux-amp_slider-value-two-"+l).attr("value",e[1]),I(e[1])}else C.find("input.redux-amp_slider-value-one-"+l).attr("value",k.val()),I(k.val());3==m&&(2===u?(C.find(".redux-amp_slider-select-one").select2("val",k.val()[0]),I(k.val()[0]),C.find(".redux-amp_slider-select-two").select2("val",k.val()[1]),I(k.val()[1])):(C.find(".redux-amp_slider-select-one").select2("val",k.val()),I(k.val()))),redux_change(S(this).parents(".redux-field-container:first").find("input")),I(k.val())},change:function(){I(k.val())}});2===m&&(x.keydown(function(e){var i=k.val(),t=parseInt(i[0]);switch(e.which){case 38:k.val([t+1,null]);break;case 40:k.val([t-1,null]);break;case 13:e.preventDefault()}}),2===u&&h.keydown(function(e){var i=k.val(),t=parseInt(i[1]);switch(e.which){case 38:k.val([null,t+1]);break;case 40:k.val([null,t-1]);break;case 13:e.preventDefault()}}),I(k.val()))});var i={width:"resolve",triggerChange:!0,allowClear:!0},t=C.find(".select2_params");if(0<t.size()){var a=t.val();a=JSON.parse(a),i=S.extend({},i,a)}C.find("select.redux-amp_slider-select-one, select.redux-amp_slider-select-two").select2(i)}})},redux.field_objects.amp_slider.isFloat=function(e){return+e===e&&!isFinite(e)||Boolean(e%1)},redux.field_objects.amp_slider.decimalCount=function(e){return e.toString().split(".")[1].length},redux.field_objects.amp_slider.loadSelect=function(e,i,t,a,d){for(var r=i;r<=t;r+=a){var l=r;if(redux.field_objects.amp_slider.isFloat(a)){var n=redux.field_objects.amp_slider.decimalCount(a);l=r.toFixed(n)}S(e).append('<option value="'+l+'">'+l+"</option>")}},jQuery("#redux_builder_amp-opt-media").find(".screenshot").on("DOMSubtreeModified",function(){""!=jQuery(this).html()&&i("")})}(jQuery);