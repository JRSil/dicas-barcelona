function collapse(e){var t=e.target,s=t.parentNode.getElementsByClassName("collapsible");if(s.length){if("none"===(s=s[0]).style.display){var i=s.parentNode.getElementsByClassName("ellipsis")[0];s.parentNode.removeChild(i),s.style.display=""}else{s.style.display="none",(i=document.createElement("span")).className="ellipsis",i.innerHTML=" &hellip; ",s.parentNode.insertBefore(i,s)}t.innerHTML="-"===t.innerHTML?"+":"-"}}function addCollapser(e){if("LI"===e.nodeName){var t=document.createElement("div");t.className="collapser",t.innerHTML="-",t.addEventListener("click",collapse,!1),e.insertBefore(t,e.firstChild)}}function jsonView(e,t){if(this.debug=!1,-1!==e.indexOf("#"))this.idType="id",this.id=e.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find that element"));this.idType="class",this.id=e.replace(".","")}if(this.data=document.getElementById(this.id).innerHTML,void 0!==typeof t)if(-1!==t.indexOf("#"))this.targetType="id",this.target=t.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find the target element"));this.targetType="class",this.target=t.replace(".","")}/^\<pre.*\>(.*)\<\/pre\>$/.test(this.data)&&(this.debug&&console.log("JSONView: data is wrapped in <pre>...</pre>, stripping HTML..."),this.data=this.data.replace(/<(?:.|\s)*?>/g,""));var s=/^[\s\u200B\uFEFF]*([\w$\[\]\.]+)[\s\u200B\uFEFF]*\([\s\u200B\uFEFF]*([\[{][\s\S]*[\]}])[\s\u200B\uFEFF]*\);?[\s\u200B\uFEFF]*$/,i=/^\s*([\[\{].*[\}\]])\s*$/.test(this.data),o=s.test(this.data);if(this.debug&&console.log("JSONView: is_json="+i+" is_jsonp="+o),i||o){function n(){}this.debug&&console.log("JSONView: sexytime!"),n.prototype={htmlEncode:function(e){return null!=e?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(e,t){return'<span class="'+t+'">'+this.htmlEncode(e)+"</span>"},valueToHTML:function(e){var t=typeof e,s="";return null===e?s+=this.decorateWithSpan("null","null"):e&&e.constructor===Array?s+=this.arrayToHTML(e):"object"===t?s+=this.objectToHTML(e):"number"===t?s+=this.decorateWithSpan(e,"num"):"string"===t?/^(http|https):\/\/[^\s]+$/.test(e)?s+='<a href="'+e+'">'+this.htmlEncode(e)+"</a>":s+=this.decorateWithSpan('"'+e+'"',"string"):"boolean"===t&&(s+=this.decorateWithSpan(e,"bool")),s},arrayToHTML:function(e){var t='[<ul class="array collapsible">',s=!1;for(var i in e)s=!0,t+="<li>",t+=this.valueToHTML(e[i]),t+="</li>";return t+="</ul>]",s||(t="[ ]"),t},objectToHTML:function(e){var t='{<ul class="obj collapsible">',s=!1;for(var i in e)s=!0,t+="<li>",t+='<span class="prop">'+this.htmlEncode(i)+"</span>: ",t+=this.valueToHTML(e[i]),t+="</li>";return t+="</ul>}",s||(t="{ }"),t},jsonToHTML:function(e,t,s){var i="";return t&&(i+='<div class="callback">'+t+" (</div>"),i+='<div id="json">',i+=this.valueToHTML(e),i+="</div>",t&&(i+='<div class="callback">)</div>'),this.toHTML(i,s)},errorPage:function(e,t,s){var i='<div id="error">Error parsing JSON: '+e.message+"</div>";return i+="<h1>"+e.stack+":</h1>",i+='<div id="json">'+this.htmlEncode(t)+"</div>",this.toHTML(i,s+" - Error")},toHTML:function(e){return e}},this.jsonFormatter=new n;var a="",l="",r="",u=s.exec(this.data);u&&3===u.length?(this.debug&&console.log("THIS IS JSONp"),r=u[1],l=u[2]):(this.debug&&console.log("Vanilla JSON"),l=this.data),this.debug&&console.log(l);try{var d=JSON.parse(l);if(!d)throw"There was no object!";a=this.jsonFormatter.jsonToHTML(d,r)}catch(e){this.debug&&console.log(e),a=this.jsonFormatter.errorPage(e,this.data)}var c,p="<style type=\"text/css\">.jsonViewOutput .prop{font-weight:700;}.jsonViewOutput .null{color:red;}.jsonViewOutput .string{color:green;}.jsonViewOutput .collapser{position:absolute;left:-1em;cursor:pointer;}.jsonViewOutput li{position:relative;}.jsonViewOutput li:after{content:',';}.jsonViewOutput li:last-child:after{content:'';}.jsonViewOutput #error{-moz-border-radius:8px;border:1px solid #970000;background-color:#F7E8E8;margin:.5em;padding:.5em;}.jsonViewOutput .errormessage{font-family:monospace;}.jsonViewOutput #json{font-family:monospace;font-size:1.1em;}.jsonViewOutput ul{list-style:none;margin:0 0 0 2em;padding:0;}.jsonViewOutput h1{font-size:1.2em;}.jsonViewOutput .callback + #json{padding-left:1em;}.jsonViewOutput .callback{font-family:monospace;color:#A52A2A;}.jsonViewOutput .bool,.jsonViewOutput .num{color:blue;}</style>";void 0!==this.targetType&&(this.idType=this.targetType,this.id=this.target),"class"===this.idType?(c=document.getElementsByClassName(this.id))&&(c.className+=c.className?" jsonViewOutput":"jsonViewOutput",c.innerHTML=p+a):"id"===this.idType&&((c=document.getElementById(this.id))&&(c.className+=c.className?" jsonViewOutput":"jsonViewOutput",c.innerHTML=p+a),c.innerHTML=p+a);for(var h=document.getElementsByClassName("collapsible"),g=0;g<h.length;g++)addCollapser(h[g].parentNode)}}