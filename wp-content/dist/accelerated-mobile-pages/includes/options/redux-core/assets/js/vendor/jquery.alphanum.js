!function(c){c.fn.alphanum=function(e){return n(this,d,l(e)),this},c.fn.alpha=function(e){return n(this,d,l(e,l("alpha"))),this},c.fn.numeric=function(e){return n(this,S,h(e)),this.blur(function(){!function(e,t){var n=parseFloat(c(e).val()),a=c(e);if(isNaN(n))return a.val("");o(t.min)&&n<t.min&&a.val("");o(t.max)&&n>t.max&&a.val("")}(this,e)}),this};var e,t,u={allow:"",disallow:"",allowSpace:!0,allowNumeric:!0,allowUpper:!0,allowLower:!0,allowCaseless:!0,allowLatin:!0,allowOtherCharSets:!0,maxLength:NaN},a={allowPlus:!1,allowMinus:!0,allowThouSep:!0,allowDecSep:!0,allowLeadingSpaces:!1,maxDigits:NaN,maxDecimalPlaces:NaN,maxPreDecimalPlaces:NaN,max:NaN,min:NaN},s={alpha:{allowNumeric:!1},upper:{allowNumeric:!1,allowUpper:!0,allowLower:!1,allowCaseless:!0},lower:{allowNumeric:!1,allowUpper:!1,allowLower:!0,allowCaseless:!0}},r={integer:{allowPlus:!1,allowMinus:!0,allowThouSep:!1,allowDecSep:!1},positiveInteger:{allowPlus:!1,allowMinus:!1,allowThouSep:!1,allowDecSep:!1}},f="!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_ ¬€£¦",i=",",p=".",g=function(){var e,t="0123456789".split(""),n={},a=0;for(a=0;a<t.length;a++)e=t[a],n[e]=!0;return n}(),w=(t=(e="abcdefghijklmnopqrstuvwxyz").toUpperCase(),new x(e+t));function n(e,s,f){e.each(function(){var u=c(this);u.bind("keyup change paste",function(e){var t="";e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),setTimeout(function(){!function(e,t,n,a){var r=e.val();""==r&&0<a.length&&(r=a);var o=t(r,n);if(r==o)return;var l=e.alphanum_caret();e.val(o),r.length==o.length+1?e.alphanum_caret(l-1):e.alphanum_caret(l)}(u,s,f,t)},0)}),u.bind("keypress",function(e){var t=e.charCode?e.charCode:e.which;if((32<=(n=t)||10==n||13==n)&&!e.ctrlKey&&!e.metaKey){var n,a=String.fromCharCode(t),r=u.selection(),o=r.start,l=r.end,i=u.val(),c=i.substring(0,o)+a+i.substring(l);s(c,f)!=c&&e.preventDefault()}})})}function o(e){return!isNaN(e)}function l(e,t){void 0===t&&(t=u);var n,a,r,o,l,i={};return n="string"==typeof e?s[e]:void 0===e?{}:e,c.extend(i,t,n),void 0===i.blacklist&&(i.blacklistSet=(a=i.allow,r=i.disallow,o=new x(f+r),l=new x(a),o.subtract(l))),i}function h(e){var t,n={};return t="string"==typeof e?r[e]:void 0===e?{}:e,c.extend(n,a,t),n}function v(e,t,n){if(g[t])return!function(e,t){var n=t.maxDigits;if(""==n||isNaN(n))return!1;var a=m(e);return n<=a}(e,n)&&(!function(e,t){var n=t.maxPreDecimalPlaces;if(""==n||isNaN(n))return!1;if(0<=e.indexOf(p))return!1;var a=m(e);return n<=a}(e,n)&&(!function(e,t){var n=t.maxDecimalPlaces;if(""==n||isNaN(n))return!1;var a=e.indexOf(p);if(-1==a)return!1;var r=m(e.substring(a));return n<=r}(e,n)&&(o=e+t,(!(l=n).max||l.max<0||!(parseFloat(o)>l.max))&&(a=e+t,!(r=n).min||0<r.min||!(parseFloat(a)<r.min)))));var a,r,o,l;if(n.allowPlus&&"+"==t&&""==e)return!0;if(n.allowMinus&&"-"==t&&""==e)return!0;if(t==i&&n.allowThouSep&&function(e,t){if(0==e.length)return!1;if(0<=e.indexOf(p))return!1;var n=e.indexOf(i);if(n<0)return!0;var a=e.lastIndexOf(i);return!(e.length-a-1<3||0<m(e.substring(n))%3)}(e))return!0;if(t==p){if(0<=e.indexOf(p))return!1;if(n.allowDecSep)return!0}return!1}function m(e){return(e+="").replace(/[^0-9]/g,"").length}function d(e,t){if("string"!=typeof e)return e;var n,a,r,o,l,i,c,u,s,f,p,h=e.split(""),v=[],m=0;for(m=0;m<h.length;m++){n=h[m];var d=v.join("");a=d,r=n,p=f=s=u=c=i=l=void 0,(o=t).maxLength&&a.length>=o.maxLength||!(0<=o.allow.indexOf(r)||o.allowSpace&&" "==r)&&(o.blacklistSet.contains(r)||!o.allowNumeric&&g[r]||!o.allowUpper&&(i=(l=r).toUpperCase(),c=l.toLowerCase(),l==i&&i!=c)||!o.allowLower&&(s=(u=r).toUpperCase(),f=u.toLowerCase(),u==f&&s!=f)||!o.allowCaseless&&(p=r).toUpperCase()==p.toLowerCase()||!o.allowLatin&&w.contains(r)||!(o.allowOtherCharSets||g[r]||w.contains(r)))||v.push(n)}return v.join("")}function S(e,t){if("string"!=typeof e)return e;var n,a=e.split(""),r=[],o=0;for(o=0;o<a.length;o++){n=a[o],v(r.join(""),n,t)&&r.push(n)}return r.join("")}function x(e){this.map="string"==typeof e?function(e){var t,n={},a=e.split(""),r=0;for(r=0;r<a.length;r++)t=a[r],n[t]=!0;return n}(e):{}}x.prototype.add=function(e){var t=this.clone();for(var n in e.map)t.map[n]=!0;return t},x.prototype.subtract=function(e){var t=this.clone();for(var n in e.map)delete t.map[n];return t},x.prototype.contains=function(e){return!!this.map[e]},x.prototype.clone=function(){var e=new x;for(var t in this.map)e.map[t]=!0;return e},c.fn.alphanum.backdoorAlphaNum=function(e,t){return d(e,l(t))},c.fn.alphanum.backdoorNumeric=function(e,t){return S(e,h(t))},c.fn.alphanum.setNumericSeparators=function(e){1==e.thousandsSeparator.length&&1==e.decimalSeparator.length&&(i=e.thousandsSeparator,p=e.decimalSeparator)}}(jQuery),function(r){function o(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else null!=e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))}r.fn.alphanum_caret=function(n,a){return void 0===n?function(e){if("selection"in document){var t=e.createTextRange();try{t.setEndPoint("EndToStart",document.selection.createRange())}catch(e){return 0}return t.text.length}if(null!=e.selectionStart)return e.selectionStart}(this.get(0)):this.queue(function(e){if(isNaN(n)){var t=r(this).val().indexOf(n);!0===a?t+=n.length:void 0!==a&&(t+=a),o(this,t)}else o(this,n);e()})}}(jQuery),function(u){var s=function(e){return e?e.ownerDocument.defaultView||e.ownerDocument.parentWindow:window},f=function(e,t){var n=u.Range.current(e).clone(),a=u.Range(e).select(e);return n.overlaps(a)?(n.compare("START_TO_START",a)<1?(startPos=0,n.move("START_TO_START",a)):(fromElementToCurrent=a.clone(),fromElementToCurrent.move("END_TO_START",n),startPos=fromElementToCurrent.toString().length),0<=n.compare("END_TO_END",a)?endPos=a.toString().length:endPos=startPos+n.toString().length,{start:startPos,end:endPos}):null},p=function(e,t,n){var a,r,o,l,i,c;n=n||0;for(var u=0;e[u];u++)3===(a=e[u]).nodeType||4===a.nodeType?(r=n,n+=a.nodeValue.length,o=r,l=n,c=a,"number"==typeof(i=t)[0]&&i[0]<l&&(i[0]={el:c,count:i[0]-o}),"number"==typeof i[1]&&i[1]<=l&&(i[1]={el:c,count:i[1]-o})):8!==a.nodeType&&(n=p(a.childNodes,t,n));return n};jQuery.fn.selection=function(e,t){return void 0!==e?this.each(function(){!function(e,t,n){var a=s(e);if(e.setSelectionRange)void 0===n?(e.focus(),e.setSelectionRange(t,t)):(e.select(),e.selectionStart=t,e.selectionEnd=n);else if(e.createTextRange){var r=e.createTextRange();r.moveStart("character",t),n=n||t,r.moveEnd("character",n-e.value.length),r.select()}else if(a.getSelection){var o=a.document,l=a.getSelection(),i=o.createRange(),c=[t,void 0!==n?n:t];p([e],c),i.setStart(c[0].el,c[0].count),i.setEnd(c[1].el,c[1].count),l.removeAllRanges(),l.addRange(i)}else a.document.body.createTextRange&&((i=document.body.createTextRange()).moveToElementText(e),i.collapse(),i.moveStart("character",t),i.moveEnd("character",void 0!==n?n:t),i.select())}(this,e,t)}):function(t){var e=s(t);if(void 0!==t.selectionStart)return document.activeElement&&document.activeElement!=t&&t.selectionStart==t.selectionEnd&&0==t.selectionStart?{start:t.value.length,end:t.value.length}:{start:t.selectionStart,end:t.selectionEnd};if(e.getSelection)return f(t);try{if("input"==t.nodeName.toLowerCase()){var n=s(t).document.selection.createRange(),a=t.createTextRange();a.setEndPoint("EndToStart",n);var r=a.text.length;return{start:r,end:r+n.text.length}}var o=f(t);if(!o)return o;var l=u.Range.current().clone(),i=l.clone().collapse().range,c=l.clone().collapse(!1).range;return i.moveStart("character",-1),c.moveStart("character",-1),0!=o.startPos&&""==i.text&&(o.startPos+=2),0!=o.endPos&&""==c.text&&(o.endPos+=2),o}catch(e){return{start:t.value.length,end:t.value.length}}}(this[0])},u.fn.selection.getCharElement=p}(jQuery);