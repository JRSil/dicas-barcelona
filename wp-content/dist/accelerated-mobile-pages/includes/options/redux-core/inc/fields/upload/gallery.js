!function(o){"use strict";o(document).ready(function(){});var e=o(document).find(".redux-container-gallery:visible");o(e).each(function(){var e=o(this);e.on({click:function(e){var n=o(this).closest("fieldset");if("clear-gallery"!==e.currentTarget.id){if("undefined"!=typeof wp&&wp.media&&wp.media.gallery){e.preventDefault();o(this);var t,a=n.find(".gallery_values").val();t=a?'[gallery ids="'+a+'"]':'[gallery ids="0"]';var i=wp.media.gallery.edit(t);if(0<o("body.particle-edit").length){o(i.title.view.el).find(".media-frame-title h1").text("Edit Particle Shapes"),o(i.title.view.el).find(".media-frame-menu .media-menu a:contains(Add to Gallery)").text("Add to Particle Shapes"),o(i.title.view.el).find(".media-frame-menu .media-menu a:contains(Edit Gallery)").text("Edit"),o(i.title.view.el).find(".media-frame-menu .media-menu a:contains(Cancel Gallery)").text("Cancel"),o(i.title.view.el).find(".media-toolbar-primary a:contains(Update gallery)").text("Update Particle Shapes"),setTimeout(function(){o(i.title.view.el).find(".media-toolbar-primary a:contains(Update gallery)").text("Update Particle Shapes")},400);var l='.collection-settings, input[type="text"].describe, .attachment-details label[data-setting="alt"], .attachment-details label[data-setting="description"] { display: none!important;} .compat-item .label {max-width: 30%; } p.help { font-size: 12px; font-style: normal; color: #888; } .compat-item tr.compat-field-shape-bg-color, .compat-item tr.compat-field-shape-color-alpha, .compat-item tr.compat-field-shape-color-mapping, .compat-item tr.compat-field-shape-particle-color,  .compat-item tr.compat-field-shape-density, .compat-item tr.compat-field-shape-max-particle-size { display: block;} ';o("style#remove-gallery-els").remove();var d=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.id="remove-gallery-els",r.styleSheet?r.styleSheet.cssText=l:r.appendChild(document.createTextNode(l)),d.appendChild(r),o(".media-menu-item:contains(Add to Particle Shapes)").on("click",function(){o(i.title.view.el).find(".media-frame-title h1, .media-frame-toolbar .media-button-insert").text("Add to Particle Shapes")}),o(".media-menu-item:contains(Edit Particle Shapes)").on("click",function(){o(i.title.view.el).find(".media-frame-title h1").text("Edit Particle Shapes"),o(".media-frame-toolbar .media-button-insert").text("Update Particle Shapes")}),o("body").on("click",".media-frame:not(.hide-router) .attachments-browser li.attachment .attachment-preview",function(){o(i.title.view.el).find(".media-frame-toolbar .media-button-insert").text("Add to Particle Shapes"),o(i.title.view.el).find(".media-frame-title h1").text("Add to Particle Shapes")}),o("body").on("mousedown",".media-toolbar-primary .button:contains(Add to Particle Shapes)",function(){setTimeout(function(){o(i.title.view.el).find(".media-frame-toolbar .media-button-insert").text("Update Particle Shapes"),o(i.title.view.el).find(".media-frame-title h1").text("Edit Particle Shapes")},200)})}return i.state("gallery-edit").on("update",function(e){n.find(".screenshot").html(""),o("style#remove-gallery-els").remove(),o("body").removeClass("particle-edit");var t,a,i="",l=e.models.map(function(e){return t=e.toJSON(),a=void 0!==t.sizes.thumbnail?t.sizes.thumbnail.url:t.url,i="<img class='redux-option-image' src='"+a+"' alt='' />",n.find(".screenshot").append(i),e.id});n.find(".gallery_values").val(l.join(","))}),!1}}else{n.find(".gallery_values").val("");n.find(".screenshot").html("")}}},".gallery-attachments")})}(jQuery);