var image_field1,image_field2,image_field3;function ampSelectImage(e){return image_field1=jQuery("#amp-img-field-"+e),image_field2=jQuery(".block-image-"+e),image_field3=jQuery("#remove-img-"+e),imageSource=image_field2.attr("src"),imageSource&&image_field3.show(),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),!(window.send_to_editor=function(e){null!=image_field1&&(imgurl=jQuery("<div>"+e+"</div>").find("img").attr("src"),image_field1.val(imgurl),image_field2.attr("src",imgurl),image_field2.show(),image_field3.show(),tb_remove())})}jQuery(document).ready(function(i){var r=0;jQuery(".ampforwp-blurb-add").live("click",function(e){console.log("click"),event.preventDefault();var t=i(this).parent().parent().find(".ampforwp-blurb-additional"),a=i(this).parent().parent().parent().parent().attr("id").split("ampforwp-blurb-").reverse()[0];i(this).parent().parent().find(".ampforwp-blurb-add");r=t.find(".widget-top").length,t.append('<div class="widget"><div class="widget-top"><div class="widget-title-action">     </div>    <div class="widget-title"><h3> New Module<span class="in-widget-title"></span></h3></div></div><div class="widget-inside"><p><label for="widget-ampforwp-blurb['+a+"][features]["+r+'][title]">Title</label><input class="widefat" id="widget-ampforwp-blurb-'+a+"-features-"+r+'-title" name="widget-ampforwp-blurb['+a+"][features]["+r+'][title]" type="text" value="Heart Of The Landing Page" /><label for="widget-ampforwp-blurb['+a+"][features]["+r+'][description]">Description</label><textarea  class="widefat" id="widget-ampforwp-blurb-'+a+"-features-"+r+'-description" name="widget-ampforwp-blurb['+a+"][features]["+r+'][description]" rows=\'6\' cols=\'50\'>This is a sample text which is being used for the dummy purpose to avoid confusion.</textarea> <span class="clear"></span></p><p> <label for=""> Image: </label><input type="button" class="select-img-'+r+' button left" style="width:auto;" value="Select Image" onclick="ampSelectImage('+r+');"/><input type="button" style="display:none" name="removeimg" id="remove-img-'+r+'" class="button button-secondary remove-img-button" data-count-type="'+r+'"  value="Remove Image" onclick="removeImage('+r+')"><img src="http://i.imgur.com/5nPXqZG.png" class="preview-image block-image-'+r+'" ><input type="hidden" id="amp-img-field-'+r+'" class="img'+r+'" style="width:auto;" name="widget-ampforwp-blurb['+a+"][features]["+r+'][image]" id="'+a+"-features-"+r+'" value="http://i.imgur.com/5nPXqZG.png" /></p> <p> <a class="ampforwp-blurb-remove delete button left">Remove Feature</a></p></div></div>')}),jQuery(".ampforwp-blurb-remove").live("click",function(){jQuery(this).parent().parent().parent().remove()}),jQuery(".ampforwp-text-add").live("click",function(e){console.log("click"),event.preventDefault();var t=i(this).parent().parent().find(".ampforwp-text-additional"),a=i(this).parent().parent().parent().parent().attr("id").split("ampforwp-text-").reverse()[0];i(this).parent().parent().find(".ampforwp-text-add");r=t.find(".widget-top").length,t.append('<div class="widget"><div class="widget-top"><div class="widget-title-action">     </div>    <div class="widget-title"><h3> New Module<span class="in-widget-title"></span></h3></div></div><div class="widget-inside"><p><label for="widget-ampforwp-text['+a+"][features]["+r+'][title]">Title</label><input class="widefat" id="widget-ampforwp-text-'+a+"-features-"+r+'-title" name="widget-ampforwp-text['+a+"][features]["+r+'][title]" type="text" value="This is the default title" /><label for="widget-ampforwp-text['+a+"][features]["+r+'][description]">Description</label><textarea  class="widefat" id="widget-ampforwp-text-'+a+"-features-"+r+'-description" name="widget-ampforwp-text['+a+"][features]["+r+'][description]" rows=\'6\' cols=\'50\'>This is the description added by default </textarea> <span class="clear"></span></p> <p> <a class="ampforwp-text-remove delete button left">Remove Feature</a></p></div></div>')}),jQuery(".ampforwp-text-remove").live("click",function(){jQuery(this).parent().parent().parent().remove()}),jQuery(".ampforwp-button-add").live("click",function(e){console.log("click"),event.preventDefault();var t=i(this).parent().parent().find(".ampforwp-button-additional"),a=i(this).parent().parent().parent().parent().attr("id").split("ampforwp-button-").reverse()[0];i(this).parent().parent().find(".ampforwp-button-add");r=t.find(".widget-top").length,t.append('<div class="widget"><div class="widget-top"><div class="widget-title-action">     </div>    <div class="widget-title"><h3> New Module<span class="in-widget-title"></span></h3></div></div><div class="widget-inside"><p><label for="widget-ampforwp-button['+a+"][features]["+r+'][title]">Button Text</label><input class="widefat" id="widget-ampforwp-button-'+a+"-features-"+r+'-title" name="widget-ampforwp-button['+a+"][features]["+r+'][title]" type="text" value="Click Here" /></p><p><label for="widget-ampforwp-button['+a+"][features]["+r+'][url]">Url:</label><input class="widefat" id="widget-ampforwp-button-'+a+"-features-"+r+'-url" name="widget-ampforwp-button['+a+"][features]["+r+'][url]" type="text" value="#" /></p><p>  <label>URL Target:</label> <br /><label for="widget-ampforwp-button['+a+"][features]["+r+']-on">New Tab </label><input class="widefat" id="widget-ampforwp-button['+a+"][features]["+r+']-on" name="widget-ampforwp-button['+a+"][features]["+r+'][radio]" type="radio" value="radio-on" /><label for="widget-ampforwp-button['+a+"][features]["+r+']-off">Current </label><input class="widefat" id="widget-ampforwp-button['+a+"][features]["+r+']-off" name="widget-ampforwp-button['+a+"][features]["+r+'][radio]" type="radio" checked value="radio-off" /></p><p> <label for="widget-ampforwp-button['+a+']-id-size">Select Size:</label><select id="widget-ampforwp-button-'+a+'-id-size" class="widefat" name="widget-ampforwp-button['+a+"][features]["+r+'][size]"> <option value="1">Small</option> <option value="2">Medium</option> <option value="3">Large</option> </select> </p><p> <a class="ampforwp-button-remove delete button left">Remove Feature</a></p></div></div>')}),jQuery(".ampforwp-button-remove").live("click",function(){jQuery(this).parent().parent().parent().remove()}),remove_button=jQuery(".remove-img-button"),remove_button.on("click",function(e){id=jQuery(this).attr("data-count-type"),imageToRemove=jQuery(".block-image-"+id),imageToRemove.attr("src","")})});