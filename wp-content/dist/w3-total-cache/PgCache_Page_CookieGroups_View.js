jQuery(function(){function a(){jQuery("#cookiegroups li").size()?jQuery("#cookiegroups_empty").hide():jQuery("#cookiegroups_empty").show()}jQuery("#w3tc_cookiegroup_add").click(function(){var e=prompt('Enter group name (only "0-9", "a-z", "_" symbols are allowed).');if(null!==e)if(e=(e=(e=(e=e.toLowerCase()).replace(/[^0-9a-z_]+/g,"_")).replace(/^_+/,"")).replace(/_+$/,"")){var o=!1;if(jQuery(".cookiegroup_name").each(function(){if(jQuery(this).html()==e)return alert("Group already exists!"),!(o=!0)}),!o){var r=jQuery('<li id="cookiegroup_'+e+'"><table class="form-table"><tr><th>Group name:</th><td><span class="cookiegroup_number">'+(jQuery("#cookiegroups li").size()+1)+'.</span> <span class="cookiegroup_name">'+e+'</span> <input type="button" class="button cookiegroup_delete" value="Delete group" /></td></tr><tr><th><label for="cookiegroup_'+e+'_enabled">Enabled:</label></th><td><input id="cookiegroup_'+e+'_enabled" type="checkbox" name="cookiegroups['+e+'][enabled]" value="1" checked="checked" /></td></tr><tr><th><label for="cookiegroup_'+e+'_cache">Cache:</label></th><td><input id="cookiegroup_'+e+'_cache" type="checkbox" name="cookiegroups['+e+'][cache]" value="1" checked="checked" /></td></tr><tr><th><label for="cookiegroups_'+e+'_cookies">Cookies:</label></th><td><textarea id="cookiegroups_'+e+'_cookies" name="cookiegroups['+e+'][cookies]" rows="10" cols="50"></textarea><br /><span class="description">Specify the cookies for this group. Values like \'cookie\', \'cookie=value\', and cookie[a-z]+=value[a-z]+are supported. Remember to escape special characters like spaces, dots or dashes with a backslash. Regular expressions are also supported.</span></td></tr></table></li>');r.find("select");jQuery("#cookiegroups").append(r),a(),window.location.hash="#cookiegroup_"+e,r.find("textarea").focus()}}else alert("Empty group name!")}),jQuery(".w3tc_cookiegroup_delete").live("click",function(){confirm("Are you sure want to delete this group?")&&(jQuery(this).parents("#cookiegroups li").remove(),a(),w3tc_beforeupload_bind())}),a(),jQuery.ui&&jQuery.ui.sortable&&jQuery("#cookiegroups").sortable({axis:"y",stop:function(){jQuery("#cookiegroups").find(".cookiegroup_number").each(function(e){jQuery(this).html(e+1+".")})}})});