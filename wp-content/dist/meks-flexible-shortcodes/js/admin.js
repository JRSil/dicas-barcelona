var mks_shortcode,mks_shortcode_content,mks_shortcode_modal_obj;!function(){function t(o,e){o.dialog({dialogClass:"wp-dialog",appendTo:!1,modal:!0,autoOpen:!1,closeOnEscape:!0,draggable:!1,resizable:!1,width:800,height:jQuery(window).height()-60,title:e,close:function(o,e){jQuery("body").removeClass("modal-open")},buttons:[]}),o.dialog("open"),jQuery("body").addClass("modal-open")}tinymce.create("tinymce.plugins.mks_shortcodes",{init:function(o,e){o.addButton("mks_shortcodes_button",{title:"Meks Shortcodes",image:e.substring(0,e.length-3)+"/img/shortcodes-button.png",onclick:function(){mks_shortcode=o.selection,mks_shortcode_content=o.selection.getContent(),jQuery("#mks_shortcodes_holder").length?t(mks_shortcode_modal_obj,"Meks Shortcodes"):(jQuery("body").append('<div id="mks_shortcodes_holder" style="display: none;"><div id="mks_shortcodes"></div></div>'),jQuery.get("admin-ajax.php?action=mks_generate_shortcodes_ui",function(o){t(mks_shortcode_modal_obj=jQuery("#mks_shortcodes").html(o),"Meks Shortcodes")}))}})},createControl:function(o,e){return null}}),tinymce.PluginManager.add("mks_shortcodes",tinymce.plugins.mks_shortcodes)}();